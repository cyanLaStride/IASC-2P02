<!DOCTYPE html>
<head>
    <title>Data Visualization Assignment</title>

    <!-- css -->
    <link rel="stylesheet" href="style.css">

    <!-- three.js importmap -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://ga.jspm.io/npm:three@0.158.0/build/three.module.js",
                "OrbitControls": "https://ga.jspm.io/npm:three@0.158.0/examples/jsm/controls/OrbitControls.js",
                "lil-gui": "https://ga.jspm.io/npm:lil-gui@0.19.1/dist/lil-gui.esm.js"
            }
        }
    </script>

    <!-- three.js scene -->
    <script src="script.js" type="module"></script>
    <script src="script2.js" type="module"></script>

</head>
<body>
    <h1>Data Visualization:<br>
    Three Days of Happiness</h1>
    <h2>Daniel Vidberg</h2>

    <p>The text I've chosen to analyze is Three Days of Happiness by Sugaru Miaki. The story is about Kusunoki, a 20 year old college student who discovers a store where he can sell his life span for money. After choosing to sell all but 3 months of his life, he is followed by Miyagi, an invisible girl whose job is to make sure Kusunoki doesn't do anything too distruptive with his remaining time. Kusunoki also attempts to reconnect with Himeno, his childhood friend whom he has not seen in 10 years. I chose to analyze Three Days of Happiness because it is my favourite short story. As a cynical 23 year old university dropout who also experienced "gifted kid burnout", it is extremely relatable.</p>

    <p>My first visualization focuses on the three main characters of the story: the point of view character Kusunoki, the invisible monitor Miyagi, and the childhood friend Himeno. Each is represented by an axis: Kusunoki in red, Miyagi in green, and Himeno in blue. As the visualization progresses, the number of times each character's name is mentioned in the text is counted. The cube's position is based on the percentage of times that each character's name is mentioned in relation to the other names. Names can be turned off, both from being affecting the cube's position and being included in the total count of names, by unchecking them. Check <b>Animate Data</b> to start the visualization.</p>

    <!-- datavis 1 -->
    <div class="canvas-container">
        <h2>Characters in Three Days of Happiness</h2>
        <!--
        <ul>
            <li id="red">Kusunoki</li>
            <li id="green">Miyagi</li>
            <li id="blue">Himeno</li>
        </ul>
        -->
        <canvas class="webgl"></canvas>
        <div id="parent1"></div>
        <p>Check <b>Animate Data</b> to start the visualization.<br>
            Left click and drag to rotate, right click and drag to move. Scroll to zoom.<p>
    </div>
    
    <p>The cube starts at the origin, and quickly jumps to the maximum on Himeno's axis as her name is the only one mentioned in the first chapter. As the story progresses, the cube slowly floats higher on Miyagi's axis, as she and Kusunoki become closer. Note that the cube never moves very high on Kusonoki's axis, because he is the point of view character and his name is only mentioned in the text when others address him. The most interesting takeaway from this visualization is how the cube moves throughout the middle of the story. While the cube's average movement towards Miyagi is relatively smooth and slow, it is occasionally tugged back towards Himeno in small and quick bursts. This shows the contrast between Miyagi's constant presence in Kusunoki's remaining life, versus the intrusive and powerful thoughts of Himeno. These Himeno intrusions are also often accompanied by small increases on Kusunoki's axis. This can be explained simply in the scenes where Kusunoki and Himeno are interacting with each other, but happens often enough to also suggest a connection between other people addressing Kusunoki by name and Kusunoki thinking about Himeno. The only time when the cube moves positively on both Miyagi and Kusunoki's axis at the same time is at the very end of the story, representing their connection and comfort with each other.</p>

    <p>The second visualization centers around Kusunoki's goals throughout the story. His first goal is to acquire more money, referred to as yen as the story is set in Japan. This is what draws him to the mysterious shop that buys his life span. The second goal, after checking off the items on his bucket list, is to travel around photographing vending machines. His final goal is to pay off Miyagi's debt to the mysterious shop. The left edge of the visualization is the beginning of the text, and the right edge is the end. Each line is a time that one of the terms is mentioned in the text, with yen in red, vending in green, and debt in blue. The height of each line represents approximately how much lifespan Kusunoki has left at the time of the mention. Each term can be turned off by unchecking them. Check Animate Data to make the lines move closer and further from the camera, making it a bit easier to see multiple lines stacked on top of each other.</p>

    <!-- datavis 2 -->
    <div class="canvas-container">
        <h2>Goals in Three Days of Happiness</h2>
        <canvas class="webgl2"></canvas>
        <div id="parent2"></div>
        <p>Left click and drag to rotate, right click and drag to move. Scroll to zoom.<p>
    </div>

    <p>The first and second chapters of the story are set before Kusunoki sells his lifespan, meaning he has approximately 14730 and 11070 days before his death, respectively. The full heights of these bars are technically represented in the visualization if you want to pan upwards for ages, but they dwarf the rest of the data so immensely that I elected to focus on the data from chapter 3 onwards, when he sells all but 3 months of his lifespan. The densest cluster of each colour is easily explained: the most mentions of yen come just before selling his lifespan, the most mentions of vending machines are during his "vending machine pilgrimage", and the most mentions of debt occur while trying to find a way to pay off Miyagi's debt. The other large cluster of yen mentions, just before the mentions of Miyagi's debt, is also easily explained and very important to the plot, and thus I leave as an exercise for the reader. Read this story. It will cost you ten dollars and a summer afternoon, and give you a whole lot more in return. The more interesting observations come from the other places the terms occur. For example, vending machines are actually quite common throughout the story, subtly hinting at Kusunoki's reliance on and fascination with them before he even realizes it. Miyagi's debt is also mentioned briefly earlier in the story, to begin Kusunoki's shift from living for himself to living for Miyagi. The other interesting observations come from the amount of lifespan Kusunoki has left throughout the story. Contrary to what the title "Three Days of Happiness" might imply, the majority of the story takes place when Kusunoki has between 3 and 2 months of lifespan remaining. As Kusunoki's remaining lifespan lessens, yen is mentioned less and less frequently, with yen surprisingly not being mentioned at all during his vending machine pilgrimage. This shows how Kusunoki stops worrying about the day to day struggle to live as he pours himself into his amateur photography.</p>

    <p>Overall, I was quite happy with my visualizations of Three Days of Happiness. I genuinely didn't know what I would get out of them before I made them, and was pleasantly surprised by how helpful they were in deepening my understanding of the text. My favourite observation was the Himeno-Kusunoki connection in the first visualization, as that hasn't been something I've noticed during my reads of the text. In terms of improvements, I would've liked to add more control to the first visualization, such as a timeline that user can manually scroll through. I'm also not completely happy with my second visualization, and would've liked to figure out a better way to represent Kusunoki's remaining lifespan before he sells it. In the future, I would genuinely like to continue doing data visualization, perhaps expanding my use of 3D space into a first-person explorable landscape rather than simple 3-axis charts.</p>
</body>